---
title: "App Routerのメリット デメリット個人的まとめ"
emoji: "📑"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Nextjs","メモ"]
published: true
---

## はじめに
この記事は、以前作成した下記の記事をふまえて、筆者がApp Routerの理解をさらに深めるために作成した個人的なメモです🙇‍♂️

https://zenn.dev/h_tatsuru/articles/nextjs_update_translate#next.js-app-router

改善点やアイデアがある場合は遠慮なくお申し出ください。

## Next.js 13.4の新機能 App Router

### メリット
Next.js 13.4の新機能であるApp Routerには、以下のようなメリットがあります。

1. **レイアウトのネスト**: App Routerでは、レイアウトのネストが可能になりました。これにより、特定のページやページのグループごとに異なるレイアウトを適用することが容易になります。

2. **サーバーサイドデータフェッチ**: App Routerでは、サーバーサイドでデータをフェッチすることが容易になりました。これにより、クライアントサイドでデータをフェッチする必要がなくなり、パフォーマンスの向上が期待できます。

3. **React Suspenseとの連携**: App RouterはReact Suspenseと連携しています。これにより、コンテンツの一部がロード中でもフォールバックコンテンツをスムーズに表示し、必要に応じて段階的にコンテンツを表示する「ストリーミング」が可能になります。ストリーミングとは、WebページのHTMLを小さなチャンクに分割し、それらをサーバーからクライアントに逐一送信するレンダリング手法です。これにより、すべてのUIがロードされる前に一部のUIを表示することが可能となるため、ユーザー体験が向上します。App Router以前のNext.jsバージョンでは、React Suspenseを利用したストリーミングはサポートされていませんでした。

https://zenn.dev/uhyo/books/react-concurrent-handson/viewer/what-is-suspense

https://nextjs.org/docs/app/building-your-application/routing/loading-ui-and-streaming

4. **エラーハンドリングの改善**: App Routerでは、エラーハンドリングが容易になりました。エラーが発生した場合、開発者が柔軟にエラーページを設定し、クライアントに表示することができます。

5. **コードの整理と保守性の向上**: App Routerの導入により、ルーティングとレイアウトの関連性が明確になり、コードの整理と保守性が向上します。
::: message
〈めも〉@6/15
この部分は筆者がまだ理解が浅いので、詳細を今後追記する予定です。
:::

6. **ページベースから機能ベースへの移行**: App Routerで`app/_components`ディレクトリが導入されたことにより、ページベースのルーティングから機能ベースのルーティングへの移行を可能にします。これにより開発者は機能ごとにコードをより細分化でき再利用性と保守性が高まります。


### デメリット

1. **学習コスト**: App RouterではサーバーサイドでのデータフェッチやReact Suspenseとの統合など、新しいReactパターンを使用する可能性があるため、一部で学習コストがかかります。また、App Routerはまだ新しい概念のため、コミュニティによるサポートNext.js 13以前と比べてまだ充実していない印象があります。

2. **互換性の問題**:一部のライブラリやツールは、従来のページベースのルーティングに依存している可能性があり、App Routerとの互換性が保証されていない場合があります。たとえば、Auth.jsをApp Routerで使用する場合には、従来型のPages Routerからいくつかの点で変更が必要です。

https://zenn.dev/tfutada/articles/5557b780050574


3. **パフォーマンスへの負荷**
::: message
〈めも〉@6/15
パフォーマンスへの負荷の部分は筆者がまだ理解が浅いので、詳細を今後追記する予定です。
:::

